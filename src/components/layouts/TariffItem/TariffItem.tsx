import s from './TariffItem.module.css'
import {TariffType} from "@/types/props/tariffsProps";
import BtnOrder from "@/components/ui/BtnOrder/BtnOrder";
import IconComponent from "@/components/icons/IconComponent/IconComponent";
import {IconsData} from "@/config/data/icons";

export default function TariffItem({
                                       items,
                                       icon,
                                       type,
                                       btn_order_sale,
                                       btn_order,
                                       subtitle,
                                       price_sale,
                                       price_stock,
                                       title,
                                       subprice
                                   }: TariffType) {
    const {src: garantSrc, alt: garantAlt} = IconsData.garant;
    return (
        <>
            <div className={`${s.item} ${type === 'full' ? s.full : ''}`}>
                <div className={s.container}>


                    <div className={s.item_text}>
                        <h3>
                            {title}
                        </h3>
                        <h4>
                            {subtitle}
                        </h4>
                        <ul>
                            {
                                items.map((item, index) => {
                                    return (
                                        <li key={index}>
                                            <div className={s.icon}>
                                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                                     viewBox="0 0 18 18" fill="none">
                                                    <path
                                                        d="M17.5629 7.93941L16.3353 6.71197C16.0439 6.4206 15.8051 5.84481 15.8051 5.43189V3.69599C15.8051 2.87022 15.1305 2.19564 14.305 2.1952H12.5684C12.156 2.1952 11.5795 1.956 11.2881 1.66485L10.0607 0.437414C9.47744 -0.145805 8.52251 -0.145805 7.9393 0.437414L6.71186 1.66573C6.42023 1.9571 5.84312 2.19564 5.43156 2.19564H3.69566C2.87099 2.19564 2.19553 2.87022 2.19553 3.69599V5.43193C2.19553 5.84323 1.95681 6.42082 1.6654 6.71201L0.437744 7.93945C-0.145915 8.52267 -0.145915 9.47759 0.437744 10.0617L1.6654 11.2892C1.95699 11.5805 2.19553 12.1579 2.19553 12.5693V14.3052C2.19553 15.1301 2.87099 15.8055 3.69566 15.8055H5.4316C5.84404 15.8055 6.42049 16.0443 6.7119 16.3355L7.93934 17.5633C8.52256 18.1461 9.47748 18.1461 10.0607 17.5633L11.2881 16.3355C11.5798 16.0441 12.156 15.8055 12.5684 15.8055H14.305C15.1306 15.8055 15.8052 15.1301 15.8052 14.3052V12.5693C15.8052 12.1562 16.0441 11.5804 16.3353 11.2892L17.563 10.0617C18.1457 9.47759 18.1457 8.52262 17.5629 7.93941ZM7.80926 12.3754L4.49962 9.06537L5.56032 8.00489L7.80952 10.2541L12.4395 5.62521L13.4999 6.68569L7.80926 12.3754Z"
                                                        fill="white"/>
                                                </svg>
                                            </div>
                                            <p>{item}</p>

                                        </li>
                                    )
                                })
                            }
                        </ul>
                    </div>
                    <div className={s.item_text}>
                        <div className={s.prices_container}>
                            <div className={s.fire}>
                                <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 56 56"
                                     fill="none">
                                    <circle cx="27.5503" cy="27.5503" r="27.2407" stroke="white"
                                            strokeWidth="0.619108"/>
                                    <path
                                        d="M30.2919 32.6704C30.0302 32.6704 29.7685 32.9133 29.7685 33.7271C29.7685 34.5409 30.0302 34.7838 30.2919 34.7838C30.5536 34.7838 30.8153 34.5409 30.8153 33.7271C30.8153 32.9133 30.5536 32.6704 30.2919 32.6704Z"
                                        fill="white"/>
                                    <path
                                        d="M24.1897 28.6623C23.928 28.6623 23.6663 28.9052 23.6663 29.719C23.6663 30.5327 23.928 30.7757 24.1897 30.7757C24.4514 30.7757 24.713 30.5327 24.713 29.719C24.713 28.9052 24.4514 28.6623 24.1897 28.6623Z"
                                        fill="white"/>
                                    <path
                                        d="M36.2954 22.9648C33.6735 20.008 32.1154 17.4052 31.2699 15.7423C30.3542 13.9412 30.0542 12.8243 30.0519 12.8154L29.7793 11.7632L28.8058 12.2065C28.692 12.2583 26.0024 13.5108 24.4953 16.5884C23.7388 18.1333 23.5875 19.8535 23.5938 21.0244C23.5975 21.7058 23.1247 22.2975 22.4696 22.4313C22.0103 22.525 21.5378 22.3792 21.2063 22.0407L19.393 20.1892L18.7692 21.0674C18.7044 21.1586 17.18 23.3053 16.9025 23.7342C15.5473 25.8289 14.8406 28.269 14.8589 30.7907C14.8835 34.1587 16.1806 37.314 18.5114 39.6757C20.842 42.0372 23.9422 43.3377 27.2408 43.3377C34.0683 43.3376 39.6229 37.666 39.6229 30.6947C39.6229 28.167 38.4101 25.3496 36.2954 22.9648ZM30.2919 36.0955C29.031 36.0955 28.0794 35.2453 28.0794 33.7271C28.0794 32.221 29.031 31.3586 30.2919 31.3586C31.5528 31.3586 32.5044 32.221 32.5044 33.7271C32.5044 35.2453 31.5528 36.0955 30.2919 36.0955ZM29.0786 27.472H31.0889L25.403 35.974H23.3927L29.0786 27.472ZM21.9772 29.719C21.9772 28.2129 22.9288 27.3506 24.1897 27.3506C25.4507 27.3506 26.4023 28.2129 26.4023 29.719C26.4023 31.2372 25.4507 32.0874 24.1897 32.0874C22.9288 32.0874 21.9772 31.2372 21.9772 29.719Z"
                                        fill="white"/>
                                </svg>
                            </div>
                            <div className={s.prices}>
                                {price_stock && (<span className={s.price_stock}>{price_stock}</span>)}
                                {price_sale && (<span className={s.price_sale}>{price_sale}</span>)}
                                {subprice && (<span className={s.subprice}>{subprice}</span>)}
                            </div>
                            <IconComponent src={icon.src} alt={icon.alt} className={s.image}/>
                        </div>
                        <BtnOrder textContent={btn_order} className={s.btn_order}
                                  content={salesItem({text: btn_order_sale, type})}/>
                    </div>


                </div>
            </div>
            {
                type === 'full' ? (
                    <IconComponent src={garantSrc} alt={garantAlt} className={s.garant}/>
                ) : ''
            }
        </>
    )
}

function salesItem({text, type}: { text: string, type: 'base' | 'full' }) {
    return (
        <>
            <div className={`${s.salesItem} ${type === 'full' ? s.fullSales : ''}`}>
                <p>{text}</p>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                    <path
                        d="M14.7778 8.35542C14.7149 8.23194 14.7149 8.09032 14.7778 7.96687L15.3608 6.8224C15.6854 6.18517 15.4282 5.42565 14.7753 5.09323L13.6025 4.49616C13.476 4.43177 13.3893 4.31716 13.3645 4.18184L13.1351 2.9271C13.0074 2.22849 12.3339 1.75905 11.6022 1.85839L10.2877 2.03681C10.1458 2.05603 10.0055 2.01226 9.90258 1.91672L8.94842 1.03103C8.41713 0.537849 7.58482 0.53782 7.05357 1.03103L6.09938 1.91681C5.99642 2.01237 5.85613 2.05605 5.71427 2.03689L4.39978 1.85848C3.66777 1.75908 2.99453 2.22858 2.86682 2.92719L2.63746 4.18187C2.6127 4.31722 2.52596 4.4318 2.39946 4.49622L1.22673 5.09329C0.573765 5.42568 0.316563 6.18525 0.64118 6.82248L1.22419 7.96692C1.28709 8.09041 1.28709 8.23203 1.22419 8.35548L0.64115 9.49992C0.316532 10.1372 0.573735 10.8967 1.22669 11.2291L2.39943 11.8262C2.52596 11.8905 2.6127 12.0052 2.63746 12.1405L2.86682 13.3952C2.98308 14.0312 3.55141 14.4772 4.20458 14.4771C4.26891 14.4771 4.33419 14.4728 4.39981 14.4639L5.7143 14.2855C5.85607 14.2662 5.99645 14.31 6.09941 14.4056L7.05357 15.2913C7.31926 15.5379 7.66006 15.6612 8.00098 15.6611C8.34181 15.6611 8.68282 15.5378 8.94839 15.2913L9.90258 14.4056C10.0055 14.31 10.1459 14.2664 10.2877 14.2855L11.6022 14.4639C12.3343 14.5633 13.0074 14.0938 13.1351 13.3952L13.3645 12.1405C13.3893 12.0052 13.476 11.8906 13.6025 11.8262L14.7753 11.2291C15.4282 10.8967 15.6854 10.1371 15.3608 9.49989L14.7778 8.35542ZM6.19772 4.26806C7.10916 4.26806 7.8507 4.97959 7.8507 5.85415C7.8507 6.72871 7.10916 7.44023 6.19772 7.44023C5.28627 7.44023 4.54474 6.72871 4.54474 5.85415C4.54474 4.97959 5.28627 4.26806 6.19772 4.26806ZM5.34453 11.3218C5.25651 11.4062 5.14113 11.4485 5.02578 11.4485C4.91042 11.4485 4.79501 11.4063 4.70702 11.3218C4.53097 11.1529 4.53097 10.879 4.70702 10.71L10.6574 5.00047C10.8334 4.83155 11.1189 4.83155 11.2949 5.00047C11.471 5.1694 11.471 5.44329 11.2949 5.61221L5.34453 11.3218ZM9.80417 12.0543C8.89273 12.0543 8.15119 11.3427 8.15119 10.4682C8.15119 9.59361 8.89273 8.88209 9.80417 8.88209C10.7156 8.88209 11.4572 9.59361 11.4572 10.4682C11.4572 11.3427 10.7156 12.0543 9.80417 12.0543Z"
                        fill="#FFF1F1"/>
                    <path
                        d="M9.80417 9.74724C9.38988 9.74724 9.05281 10.0706 9.05281 10.4682C9.05281 10.8657 9.38985 11.1891 9.80417 11.1891C10.2185 11.1891 10.5555 10.8657 10.5555 10.4682C10.5555 10.0706 10.2185 9.74724 9.80417 9.74724Z"
                        fill="#FFF1F1"/>
                    <path
                        d="M6.19772 5.13319C5.78343 5.13319 5.44639 5.45659 5.44639 5.85412C5.44639 6.25164 5.78343 6.57507 6.19772 6.57507C6.61201 6.57507 6.94908 6.25167 6.94908 5.85412C6.94905 5.45662 6.61201 5.13319 6.19772 5.13319Z"
                        fill="#FFF1F1"/>
                </svg>
            </div>
        </>
    )
}